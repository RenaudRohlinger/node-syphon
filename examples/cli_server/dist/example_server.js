"use strict";const e=require("node-syphon");let t;const r=(e,t=255)=>{let r=new Uint8ClampedArray(1e4);if(e){for(let e=0;e<1e4;e+=4)r[e]=Math.floor(Math.random()*Math.min(255,t)),r[e+1]=Math.floor(Math.random()*Math.min(255,t)),r[e+2]=Math.floor(Math.random()*Math.min(255,t)),r[e+3]=255;e.publishImageData(r,"GL_TEXTURE_2D",{x:0,y:0,width:50,height:50},{width:50,height:50},!1),r.set([]),r=null}};(()=>{const o=new e.SyphonOpenGLServer("test server 1"),n=new e.SyphonOpenGLServer("test server 2");console.log("Created",o.serverDescription),console.log("Created",n.serverDescription),["exit","SIGINT","SIGUSR1","SIGUSR2","uncaughtException","SIGTERM"].forEach((e=>{process.on(e,(()=>{o.dispose(),n.dispose(),clearInterval(t)}))})),t=setInterval((()=>{r(o),r(n,128)}),1e3/60)})();
